{"version":3,"sources":["assets/img/background.jpg","components/Header/Header.jsx","components/Footer/Footer.jsx","components/Button/Button.jsx","assets/img/bookCover1.png","config/backendApi.js","config/book.js","components/BookInfo/BookInfo.jsx","assets/img/avatar.png","config/user.js","components/UserInfo/UserInfo.jsx","pages/Home/Home.jsx","components/InputErrorMsg/InputErrorMsg.jsx","pages/BookDetailPage/BookDetailPage.jsx","components/UserInfo/validate.js","components/BorrowedBookInfo/BorrowedBookInfo.jsx","components/UserBook/UserBook.jsx","components/CustomModal/CustomModal.jsx","pages/UserDetailPage/UserDetailPage.jsx","pages/UsersPage/UsersPage.jsx","pages/BooksPage/BooksPage.jsx","pages/NoPage/NoPage.jsx","App.jsx","reportWebVitals.js","redux/reducer.js","redux/store.js","index.js"],"names":["Container","styled","div","backgroundImg","Title","h1","SubTitle","h2","Header","Footer","ButtonStyle","button","props","size","height","Button","children","onClick","primary","as","href","disabled","backendApi","axios","create","baseURL","getAllBooks","a","url","get","response","data","console","log","getRecentBooks","getBookById","id","CreateBook","name","author","categories","post","catch","e","res","UpdateBookById","put","BorrowBook","bookid","userid","ReturnBook","DeleteBook","delete","Text","BookCover","img","InfoPanel","ButtonPanel","BookInfo","recent","Book","_id","useState","modalVisible","setModalVisible","APIMessage","setAPIMessage","handleDelete","visible","footer","style","marginLeft","window","location","src","BookCoverImg","borrowed","to","textDecoration","getAllUsers","getRecentUsers","getUserById","CreateUser","email","phone","date_of_birth","UpdateUserById","DeleteUser","moment","require","UserInfo","User","Avatar","format","MainPanel","RecentUsers","RecentBooks","RecentPanel","Home","Books","setBooks","Users","setUsers","useEffect","getBooks","getUsers","books","users","map","user","key","book","ErrorMsg","Form","Input","input","InputPanel","Fields","InputFields","TopButtonPanel","AddButtonPanel","BookDetailPage","setBorrowed","setName","setAuthor","setCategories","setUser","nameError","setNameError","authorError","setAuthorError","useParams","Id","setId","path","useLocation","pathname","add","setAdd","indexOf","getBookInfo","Data","handleOnBlur","event","target","value","handleDataChange","handleSubmit","AddNewBook","EditBook","status","onChange","onBlur","InputErrorMsg","validate","test","BorrowedBookInfo","Borrow","userId","handleBorrow","handleReturn","reload","BorrowedBooks","BookInStock","UserBook","allBook","setAllBook","MainContent","UserDetailPage","setEmail","setDate_of_birth","setPhone","emailError","setEmailError","borrowedBooks","setBorrowedBooks","getUserInfo","Moment","checkValues","checkEmail","AddNewUser","EditUser","type","TitlePanel","UsersPage","allUser","setAllUser","BooksPage","NoPage","App","Fragment","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","storageConfig","storage","whitelist","middlewares","ReduxThunk","myPersistReducer","persistReducer","state","action","content","store","createStore","compose","applyMiddleware","persistor","persistStore","ReactDOM","render","StrictMode","configStore","loading","document","getElementById"],"mappings":"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","file":"static/js/main.2679357b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/background.39f2b68d.jpg\";","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport backgroundImg from \"../../assets/img/background.jpg\";\r\n\r\nconst Container = styled.div`\r\n  box-shadow: rgb(0 0 0 / 20%) 0px 0.0625rem 0.1875rem 0px;\r\n  border-radius: 0.1875rem;\r\n  background-color: var(--ck-backgroundPrimaryLow);\r\n  background: url(${backgroundImg}) no-repeat;\r\n  width: 100%;\r\n  height: auto;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  padding: 15px 0px;\r\n\r\n`;\r\nconst Title = styled.h1`\r\n  margin-top: 100px;\r\n  color: #ffffff;\r\n`;\r\n\r\nconst SubTitle = styled.h2`\r\n  color: #ffffff;\r\n`;\r\n\r\nconst Header = () => {\r\n  return (\r\n    <Container>\r\n      <Title>Book Management System</Title>\r\n      <SubTitle>By Iris Liang</SubTitle>\r\n    </Container>\r\n  );\r\n};\r\n\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  box-shadow: rgb(0 0 0 / 20%) 0px 0.0625rem 0.1875rem 0px;\r\n  border-radius: 0.1875rem;\r\n  width: 100%;\r\n  height: 100px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  padding: 15px 0px;\r\n  z-index: 0;\r\n  background: #d6b8b0;\r\n`;\r\nconst SubTitle = styled.div`\r\n  color: #ffffff;\r\n`;\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Container>\r\n      <br />\r\n      <br />\r\n      <SubTitle>© 2022 All rights reserved. Designed by Iris Liang</SubTitle>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const ButtonStyle = styled.button`\r\n  color: ${(props) => (\"#ffff\")};\r\n  border: none;\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  width: ${(props) => props.size};\r\n  height: ${(props) => props.height};\r\n  padding: 0.875em 1em;\r\n  font-weight: 400;\r\n  font-size: 1em;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  line-height: 1;\r\n  background: ${(props) =>\r\n    \"#d5b0a6\" };\r\n  text-align: center;\r\n  transition-duration: 0.2s, 0.2s;\r\n  transition-timing-function: ease-in, ease-out;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  /* margin-top: 30px; */\r\n  &:hover {\r\n    color: ${(props) => \"#d5b0a6\"};\r\n    background: ${(props) => \" #ffffff\"};\r\n  }\r\n`;\r\n\r\nexport const Button = ({\r\n  children,\r\n  size,\r\n  onClick,\r\n  primary,\r\n  as,\r\n  href,\r\n  height,\r\n  disabled,\r\n}) => (\r\n  <ButtonStyle\r\n    onClick={onClick}\r\n    size={size}\r\n    primary={primary}\r\n    as={as}\r\n    href={href}\r\n    height={height}\r\n    disabled={disabled}\r\n  >\r\n    {children}\r\n  </ButtonStyle>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  size: PropTypes.string,\r\n  children: PropTypes.string.isRequired,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/bookCover1.d0754769.png\";","import axios from 'axios';\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'https://desolate-everglades-87987.herokuapp.com/api/v1/'\r\n    : 'https://desolate-everglades-87987.herokuapp.com/api/v1/';\r\n\r\nconst backendApi = axios.create({\r\n  baseURL: baseURL,\r\n});\r\n\r\nexport default backendApi;\r\n","//All API about user\r\nimport backendApi from \"./backendApi\";\r\n\r\nconst API_GET_BOOK = \"/books\";\r\nconst API_GET_ALL_BOOKS = \"/books\";\r\nconst API_CREATE_BOOK = \"/create/book\";\r\nconst API_UPDATE_BOOK = \"/books\";\r\nconst API_DELETE_BOOK = \"/books\";\r\nconst API_BORROW_BOOK = \"/books/borrow\";\r\nconst API_RETURN_BOOK = \"/books/return\";\r\nconst API_RECENT_BOOKS = \"/recent/books\";\r\n\r\nexport const getAllBooks = async () => {\r\n  const url = `${API_GET_ALL_BOOKS}`;\r\n  try {\r\n    const response = await backendApi.get(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const getRecentBooks = async () => {\r\n  const url = `${API_RECENT_BOOKS}`;\r\n  try {\r\n    const response = await backendApi.get(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\n\r\nexport const getBookById = async (id) => {\r\n  const url = `${API_GET_BOOK}/${id}`;\r\n  try {\r\n    const response = await backendApi.get(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return ('Cannot find the book');\r\n  }\r\n};\r\n\r\nexport const CreateBook = async (name, author, categories) => {\r\n  const data = {\r\n    name,\r\n    author,\r\n    categories,\r\n  };\r\n  try {\r\n    const res = await backendApi\r\n      .post(API_CREATE_BOOK, data)\r\n      .catch(function (e) {\r\n        if (e.response) {\r\n          return e.response;\r\n        }\r\n      });\r\n    return res;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const UpdateBookById = async (id, name, author, categories) => {\r\n  const data = {\r\n    name,\r\n    author,\r\n    categories,\r\n  };\r\n  try {\r\n    const res = await backendApi\r\n      .put(`${API_UPDATE_BOOK}/${id}`, data)\r\n      .catch(function (e) {\r\n        if (e.response) {\r\n          return e.response;\r\n        }\r\n      });\r\n    return res;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const BorrowBook = async (bookid, userid) => {\r\n  const url = `${API_BORROW_BOOK}/${bookid}/${userid}`;\r\n  try {\r\n    const response = await backendApi.put(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const ReturnBook = async (bookid, userid) => {\r\n  const url = `${API_RETURN_BOOK}/${bookid}/${userid}`;\r\n  try {\r\n    const response = await backendApi.put(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const DeleteBook = async (id) => {\r\n  const url = `${API_DELETE_BOOK}/${id}`;\r\n  try {\r\n    const response = await backendApi.delete(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n","import React,{useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../Button\";\r\nimport BookCoverImg from \"../../assets/img/bookCover1.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {  DeleteBook } from \"../../config/book\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Modal } from \"antd\";\r\n\r\nconst Container = styled.div`\r\n  box-shadow: rgb(0 0 0 / 20%) 0px 0.0625rem 0.1875rem 0px;\r\n  border-radius: 0.1875rem;\r\n  width: 80%;\r\n  margin-left: 10%;\r\n  height: 90px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  padding: 15px 0px;\r\n  z-index: 0;\r\n  background: #d6b8b07f;\r\n  margin-top: 15px;\r\n  display: flex;\r\n`;\r\nconst Text = styled.div`\r\n  color: #5c4c4c;\r\n`;\r\n\r\nconst BookCover = styled.img`\r\n  height: 70px;\r\n  width: auto;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst InfoPanel = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  width: auto;\r\n  margin-left: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst BookInfo = ({ recent, Book }) => {\r\n  const url = \"/book/\" + Book?._id;\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [APIMessage, setAPIMessage] = useState(\"\");\r\n  const handleDelete = async () => {\r\n    const book = await DeleteBook(Book?._id);\r\n    if (book === \"book deleted\") {\r\n      setAPIMessage(\"Delete book successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const Redirection = () => {\r\n    setModalVisible(false);\r\n    //After delete, back to all books page\r\n    if (\r\n      APIMessage === \"Delete book successfully!\" ||\r\n      APIMessage === \"Cannot find the book, try again later.\"\r\n    ) {\r\n      window.location.href = \"/books\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n            <Modal\r\n        visible={modalVisible}\r\n        footer={[\r\n          <div style={{ marginLeft: \"200px\" }}>\r\n            <Button key=\"OK\" onClick={Redirection}>\r\n              &nbsp;&nbsp;OK&nbsp;&nbsp;\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      >\r\n        <p></p>\r\n        <p>{APIMessage}</p>\r\n        <p></p>\r\n      </Modal>\r\n      <BookCover src={BookCoverImg} />\r\n      <InfoPanel>\r\n        <div>\r\n          <Text>{Book?.name}</Text>\r\n          <Text>Author: {Book?.author}</Text>\r\n        </div>\r\n        <div>\r\n          <Text>Categories: {Book?.categories}</Text>\r\n          {Book.borrowed ? (\r\n            <Text>Status: Borrowed</Text>\r\n          ) : (\r\n            <Text>Status: In stock</Text>\r\n          )}\r\n        </div>\r\n      </InfoPanel>\r\n      <ButtonPanel>\r\n        {recent ? (\r\n          <Link to={url} style={{ textDecoration: \"none\" }}>\r\n            <Button>Details</Button>\r\n          </Link>\r\n        ) : (\r\n          <ButtonPanel>\r\n            <Link to={url} style={{ textDecoration: \"none\" }}>\r\n              <Button>&nbsp;&nbsp;Edit&nbsp;&nbsp;</Button>\r\n            </Link>\r\n            <div>&nbsp;&nbsp;&nbsp;</div>\r\n            <Button onClick={handleDelete}>Delete</Button>\r\n          </ButtonPanel>\r\n        )}\r\n      </ButtonPanel>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BookInfo;\r\n","export default __webpack_public_path__ + \"static/media/avatar.1cbb6852.png\";","//All API about user\r\nimport backendApi from \"./backendApi\";\r\n\r\nconst API_GET_ALL_USER = \"/users\";\r\nconst API_GET_USER = \"/users\";\r\nconst API_CREATE_USER = \"/create/user\";\r\nconst API_UPDATE_USER = \"/users\";\r\nconst API_DELETE_USER = \"/users\";\r\nconst API_RECENT_USERS = \"/recent/users\";\r\n\r\nexport const getAllUsers = async () => {\r\n  const url = `${API_GET_ALL_USER}`;\r\n  const response = await backendApi.get(url);\r\n  return response.data;\r\n};\r\n\r\nexport const getRecentUsers = async () => {\r\n  const url = `${API_RECENT_USERS}`;\r\n  try {\r\n    const response = await backendApi.get(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const getUserById = async (id) => {\r\n  const url = `${API_GET_USER}/${id}`;\r\n  const response = await backendApi.get(url);\r\n  return response.data;\r\n};\r\n\r\nexport const CreateUser = async (email, name, phone, date_of_birth) => {\r\n  const data = {\r\n    email,\r\n    name,\r\n    phone,\r\n    date_of_birth,\r\n  };\r\n  try {\r\n    const res = await backendApi\r\n      .post(API_CREATE_USER, data)\r\n      .catch(function (e) {\r\n        if (e.response) {\r\n          return e.response;\r\n        }\r\n      });\r\n    return res;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const UpdateUserById = async (id, phone, name, date_of_birth) => {\r\n  const data = {\r\n    phone,\r\n    name,\r\n    date_of_birth,\r\n  };\r\n  try {\r\n    const res = await backendApi\r\n      .put(`${API_UPDATE_USER}/${id}`, data)\r\n      .catch(function (e) {\r\n        if (e.response) {\r\n          return e.response;\r\n        }\r\n      });\r\n    return res;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const DeleteUser = async (id) => {\r\n  const url = `${API_DELETE_USER}/${id}`;\r\n  try {\r\n    const response = await backendApi.delete(url);\r\n    return response.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../Button\";\r\nimport Avatar from \"../../assets/img/avatar.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteUser } from \"../../config/user\";\r\nimport { Modal } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nconst moment = require(\"moment\");\r\n\r\nconst Container = styled.div`\r\n  box-shadow: rgb(0 0 0 / 20%) 0px 0.0625rem 0.1875rem 0px;\r\n  border-radius: 0.1875rem;\r\n  width: 80%;\r\n  margin-left: 10%;\r\n  height: 90px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  padding: 15px 0px;\r\n  z-index: 0;\r\n  background: #d6b8b07f;\r\n  margin-top: 15px;\r\n  display: flex;\r\n`;\r\nconst Text = styled.div`\r\n  color: #5c4c4c;\r\n`;\r\n\r\nconst BookCover = styled.img`\r\n  height: 70px;\r\n  width: auto;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst InfoPanel = styled.div`\r\n  width: 80%;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  width: auto;\r\n  margin-left: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst UserInfo = ({ recent, User }) => {\r\n  const url = \"/user/\" + User?._id;\r\n  const [APIMessage, setAPIMessage] = useState(\"\");\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    const user = await DeleteUser(User?._id);\r\n    if (user === \"user deleted\") {\r\n      setAPIMessage(\"Delete user successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const Redirection = () => {\r\n    setModalVisible(false);\r\n    //After delete, back to all user page\r\n    if (\r\n      APIMessage === \"Delete user successfully!\" ||\r\n      APIMessage === \"Cannot find the user, try again later.\"\r\n    ) {\r\n      window.location.href = \"/users\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Modal\r\n        visible={modalVisible}\r\n        footer={[\r\n          <div style={{ marginLeft: \"200px\" }}>\r\n            <Button key=\"OK\" onClick={Redirection}>\r\n              &nbsp;&nbsp;OK&nbsp;&nbsp;\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      >\r\n        <p></p>\r\n        <p>{APIMessage}</p>\r\n        <p></p>\r\n      </Modal>\r\n      <BookCover src={Avatar} />\r\n      <InfoPanel>\r\n        <Text>{User?.name}</Text>\r\n        {User?.phone ? <Text>Phone: {User?.phone}</Text> : null}\r\n        {User?.date_of_birth ? (\r\n          <Text>\r\n            Date of Birth: {moment(User?.date_of_birth).format(\"yyyy-MM-DD\")}\r\n          </Text>\r\n        ) : null}\r\n      </InfoPanel>\r\n      <ButtonPanel>\r\n        {recent ? (\r\n          <Link to={url} style={{ textDecoration: \"none\" }}>\r\n            <Button>Details</Button>\r\n          </Link>\r\n        ) : (\r\n          <ButtonPanel>\r\n            <Link to={url} style={{ textDecoration: \"none\" }}>\r\n              <Button>&nbsp;&nbsp;Edit&nbsp;&nbsp;</Button>\r\n            </Link>\r\n            <div>&nbsp;&nbsp;&nbsp;</div>\r\n            <Button onClick={handleDelete}>Delete</Button>\r\n          </ButtonPanel>\r\n        )}\r\n      </ButtonPanel>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { Button } from \"../../components/Button\";\r\nimport BookInfo from \"../../components/BookInfo\";\r\nimport UserInfo from \"../../components/UserInfo\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getRecentBooks } from \"../../config/book\";\r\nimport { getAllUsers, getRecentUsers } from \"../../config/user\";\r\n\r\nconst Container = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst MainPanel = styled.div`\r\n  padding: 5px;\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 95%;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f0edeb;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst RecentUsers = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  margin-bottom: 50px;\r\n  text-align: center;\r\n  width: 48%;\r\n  padding: 20px;\r\n  height: auto;\r\n  background-color: #f0edebae;\r\n  border-radius: 10px;\r\n  margin-right: 4%;\r\n  @media (max-width: 768px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst RecentBooks = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  margin-bottom: 50px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  width: 48%;\r\n  height: auto;\r\n  background-color: #f0edebae;\r\n  border-radius: 10px;\r\n  @media (max-width: 768px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst RecentPanel = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  color: #8b6c64;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst Home = () => {\r\n  const [Books, setBooks] = useState();\r\n  const [Users, setUsers] = useState();\r\n\r\n  useEffect(() => {\r\n    getBooks();\r\n    getUsers();\r\n  }, []);\r\n\r\n  const getBooks = async () => {\r\n    const books = await getRecentBooks();\r\n    if (books) setBooks(books);\r\n  };\r\n  const getUsers = async () => {\r\n    const users = await getRecentUsers();\r\n    //test console\r\n    console.log(users);\r\n    if (users) setUsers(users);\r\n  };\r\n  return (\r\n    <Container>\r\n      <MainPanel>\r\n        <Header />\r\n        <ButtonPanel>\r\n          <Link to=\"/users\" style={{ textDecoration: \"none\" }}>\r\n            <Button>View All Users</Button>\r\n          </Link>\r\n          <Link to=\"/books\" style={{ textDecoration: \"none\" }}>\r\n            <Button>View All Books</Button>\r\n          </Link>\r\n        </ButtonPanel>\r\n        <RecentPanel>\r\n          <RecentUsers>\r\n            <br />\r\n            <Text>Recent Users</Text>\r\n\r\n            {Users ? (\r\n              Users?.map((user, key) => {\r\n                return <UserInfo User={user} recent=\"true\" />;\r\n              })\r\n            ) : (\r\n              <div>No user in the database</div>\r\n            )}\r\n          </RecentUsers>\r\n          <RecentBooks>\r\n            <br />\r\n            <Text>Recent Books</Text>\r\n            {Books?Books?.map((book, key) => {\r\n              return <BookInfo Book={book} recent=\"true\" />;\r\n            }):<div>No Book in the database</div>}\r\n          </RecentBooks>\r\n        </RecentPanel>\r\n        <Footer />\r\n      </MainPanel>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import styled from 'styled-components';\r\n\r\nconst ErrorMsg = styled.div`\r\n  color: rgb(212, 57, 0);\r\n  font-size: 15px;\r\n  margin-top: 1px;\r\n  text-align: center;\r\n`;\r\n\r\nexport default ErrorMsg;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../../components/Button\";\r\nimport BookCoverImg from \"../../assets/img/bookCover1.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport {\r\n  UpdateBookById,\r\n  getBookById,\r\n  DeleteBook,\r\n  CreateBook,\r\n} from \"../../config/book\";\r\nimport { Modal } from \"antd\";\r\nimport InputErrorMsg from \"../../components/InputErrorMsg\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nconst Container = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst MainPanel = styled.div`\r\n  padding: 5px;\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 95%;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Form = styled.div`\r\n  padding: 5px;\r\n  height: 400px;\r\n  margin: auto;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background: #f0edeb;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  color: #5c4c4c;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst BookCover = styled.img`\r\n  height: 200px;\r\n  width: auto;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin-left: 20px;\r\n  opacity: 0.7;\r\n  @media (max-width: 768px) {\r\n    width: 50%;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\nconst InputPanel = styled.div`\r\n  margin: auto;\r\n  justify-content: center;\r\n  padding-top: 20px;\r\n  display: flex;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Fields = styled.div`\r\n  margin: auto;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  width: 60%;\r\n`;\r\n\r\nconst InputFields = styled.div`\r\n  margin: auto;\r\n  padding: 10px;\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  margin: auto;\r\n  padding: 20px;\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst TopButtonPanel = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f1e6dc;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst AddButtonPanel = styled.div`\r\n    display: flex;\r\n    width: 100%;\r\n    height: 20px;\r\n    justify-content: space-around;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n`;\r\n\r\nconst BookDetailPage = () => {\r\n  const [borrowed, setBorrowed] = useState(false);\r\n  const [name, setName] = useState();\r\n  const [author, setAuthor] = useState();\r\n  const [categories, setCategories] = useState('Horror');\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [user, setUser] = useState();\r\n  const [nameError, setNameError] = useState(false);\r\n  const [authorError, setAuthorError] = useState(false);\r\n  const [APIMessage, setAPIMessage] = useState(\"\");\r\n  const [Id,setId] =useState(useParams().id);\r\n  const path = useLocation().pathname;\r\n  const [add, setAdd] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (path.indexOf(\"new\") > 0) {\r\n      //Add new\r\n      setAdd(true);\r\n    }\r\n    //Edit\r\n    else getBookInfo();\r\n  }, []);\r\n\r\n  const getBookInfo = async () => {\r\n    const book = await getBookById(Id);\r\n    if (typeof book !== \"string\") {\r\n      const Data = book;\r\n      setAuthor(Data?.author);\r\n      setName(Data?.name);\r\n      setCategories(Data?.categories);\r\n      setBorrowed(Data?.borrowed);\r\n      if (Data?.borrowed) {\r\n        const user = Data?.user;\r\n        setUser(user?.name);\r\n      }\r\n    } else {\r\n      setAPIMessage(\"Cannot find the book, try again later.\");\r\n      setModalVisible(true);\r\n    }\r\n\r\n  };\r\n\r\n  const handleOnBlur = (event) => {\r\n    const { value, name } = event.target;\r\n  };\r\n\r\n\r\n  const handleDataChange = (event) => {\r\n    const { value, name } = event.target;\r\n    switch (name) {\r\n      case \"name\": {\r\n        setName(value);\r\n        return \"name\";\r\n      }\r\n      case \"author\": {\r\n        setAuthor(value);\r\n        return \"author\";\r\n      }\r\n      case \"categories\": {\r\n        setCategories(value);\r\n        return \"categories\";\r\n      }\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n\r\n  const checkValues = () => {\r\n    if (!name || name === \"\") {\r\n      setNameError(true);\r\n      return;\r\n    } else {\r\n      setNameError(false);\r\n    }\r\n    if (!author || author === \"\") {\r\n      setAuthorError(true);\r\n      return;\r\n    } else {\r\n      setAuthorError(false);\r\n    }\r\n    if (!nameError && !authorError)\r\n      if (add) {\r\n        AddNewBook();\r\n      } else EditBook();\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    checkValues();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const book = await DeleteBook(Id);\r\n    if (book === \"book deleted\") {\r\n      setAPIMessage(\"Delete book successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const EditBook = async () => {\r\n    const book = await UpdateBookById(Id, name, author, categories);\r\n    if (book.status == \"200\") {\r\n      setAPIMessage(\"Edit book successfully\");\r\n      setModalVisible(true);\r\n    } else if (book.status == \"403\") {\r\n      setAPIMessage(\"Book already exists!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const AddNewBook = async () => {\r\n    const book = await CreateBook(name, author, categories);\r\n    if (book.status == \"201\") {\r\n      setId(book?.data?._id)\r\n      setAPIMessage(\"Add book successfully!\");\r\n      setModalVisible(true);\r\n    } else if (book.status == \"403\") {\r\n      setAPIMessage(\"Book already exists!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const Redirection = () => {\r\n    setModalVisible(false);\r\n    //After delete, back to all books page\r\n    if (\r\n      APIMessage === \"Delete book successfully!\" ||\r\n      APIMessage === \"Cannot find the book, try again later.\"\r\n    ) {\r\n      window.location.href = \"/books\";\r\n    }else if\r\n    (APIMessage === \"Add book successfully!\")\r\n      {  window.location.href = \"/book/\"+Id;\r\n    }\r\n\r\n    \r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Modal\r\n        visible={modalVisible}\r\n        footer={[\r\n          <div style={{ marginLeft: \"200px\" }}>\r\n            <Button key=\"OK\" onClick={Redirection}>\r\n              &nbsp;&nbsp;OK&nbsp;&nbsp;\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      >\r\n        <p></p>\r\n        <p>{APIMessage}</p>\r\n        <p></p>\r\n      </Modal>\r\n      <MainPanel>\r\n        <Header />\r\n        <TopButtonPanel>\r\n          <Link to=\"/books\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Back to all Books Page</Button>\r\n          </Link>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Back to Homepage</Button>\r\n          </Link>\r\n        </TopButtonPanel>\r\n        <Form>\r\n          <br />\r\n          <br />\r\n          {add ? (\r\n            <AddButtonPanel>\r\n              <Text>Add new book</Text>\r\n              <br />\r\n              <Button onClick={handleSubmit}>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;Submit&nbsp;&nbsp;&nbsp;&nbsp;\r\n              </Button>\r\n            </AddButtonPanel>\r\n          ) : (\r\n            <Text>Book detail information</Text>\r\n          )}\r\n\r\n          <Fields>\r\n            <BookCover src={BookCoverImg} />\r\n            <InputFields>\r\n              <br />\r\n              <InputPanel>\r\n                <div>Name:</div>\r\n                <Input\r\n                  name=\"name\"\r\n                  onChange={handleDataChange}\r\n                  onBlur={handleOnBlur}\r\n                  value={name}\r\n                />\r\n              </InputPanel>\r\n              {nameError ? (\r\n                <InputErrorMsg>Name can't be empty!</InputErrorMsg>\r\n              ) : (\r\n                <br />\r\n              )}\r\n              <br />\r\n              <InputPanel>\r\n                <div>Author:</div>\r\n                <Input\r\n                  name=\"author\"\r\n                  onChange={handleDataChange}\r\n                  onBlur={handleOnBlur}\r\n                  value={author}\r\n                />\r\n              </InputPanel>\r\n              {authorError ? (\r\n                <InputErrorMsg>Author can't be empty!</InputErrorMsg>\r\n              ) : (\r\n                <br />\r\n              )}\r\n              <InputPanel>\r\n                <div>Categories:&nbsp;&nbsp;</div>\r\n                <select\r\n                  name=\"categories\"\r\n                  onChange={handleDataChange}\r\n                  onBlur={handleOnBlur}\r\n                  value={categories}\r\n                >\r\n                  <option value=\"Horror\">Horror</option>\r\n                  <option value=\"Drama\">Drama</option>\r\n                  <option value=\"Fiction\">Fiction</option>\r\n                </select>\r\n              </InputPanel>\r\n            </InputFields>\r\n            {!add ? (\r\n              <ButtonPanel>\r\n                <InputPanel>\r\n                  {borrowed ? (\r\n                    <div>Status:&nbsp;&nbsp;Borrowed by {user} </div>\r\n                  ) : (\r\n                    <div>Status:&nbsp;&nbsp;In stock&nbsp;&nbsp;</div>\r\n                  )}\r\n                </InputPanel>\r\n\r\n                {borrowed ? <Button>Return the book</Button> : <br />}\r\n                <br />\r\n                <Button onClick={handleSubmit}>Submit</Button>\r\n                <br />\r\n                {!add ? <Button onClick={handleDelete}>Delete</Button> : null}\r\n              </ButtonPanel>\r\n            ) : null}\r\n          </Fields>\r\n        </Form>\r\n        <Footer />\r\n      </MainPanel>\r\n    </Container>\r\n  );\r\n};\r\nexport default BookDetailPage;\r\n","const validate = (name, data) => {\r\n  const value=data;\r\n  const EMAIL_REGEXP =\r\n    /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/;\r\n\r\n  switch (name) {\r\n    case 'email': {\r\n      if (!value) {\r\n        return 'Please input your email';\r\n      }\r\n      if (!EMAIL_REGEXP.test(value)) {\r\n        return 'Please input a valid email';\r\n      }\r\n      return  '';\r\n    }\r\n\r\n    case 'password': {\r\n      if (!value) {\r\n        return 'Please enter your password';\r\n      }\r\n      return '';\r\n    }\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nexport default validate;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../Button\";\r\nimport BookCoverImg from \"../../assets/img/bookCover1.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BorrowBook,ReturnBook } from \"../../config/book\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Modal } from \"antd\";\r\n\r\nconst Container = styled.div`\r\n  box-shadow: rgb(0 0 0 / 20%) 0px 0.0625rem 0.1875rem 0px;\r\n  border-radius: 0.1875rem;\r\n  width: 80%;\r\n  margin-left: 10%;\r\n  height: 90px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  padding: 15px 0px;\r\n  z-index: 0;\r\n  background: #d6b8b07f;\r\n  margin-top: 15px;\r\n  display: flex;\r\n`;\r\nconst Text = styled.div`\r\n  color: #5c4c4c;\r\n`;\r\n\r\nconst BookCover = styled.img`\r\n  height: 70px;\r\n  width: auto;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst InfoPanel = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  width: auto;\r\n  margin-left: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst BorrowedBookInfo = ({ Book, Borrow, userId }) => {\r\n  const url = \"/book/\" + Book?._id;\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [APIMessage, setAPIMessage] = useState(\"\");\r\n\r\n  const handleBorrow = async () => {\r\n    const book = await BorrowBook(Book?._id, userId);\r\n    if (book === \"book borrowed\") {\r\n      setAPIMessage(\"Borrow book successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const handleReturn = async () => {\r\n    const book = await ReturnBook(Book?._id, userId);\r\n    if (book === \"book returned\") {\r\n      setAPIMessage(\"Return book successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const Redirection = () => {\r\n    setModalVisible(false);\r\n    //After delete, back to all books page\r\n    if (\r\n      APIMessage === \"Borrow book successfully!\" ||\r\n      APIMessage === \"Return book successfully!\"\r\n    ) {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Modal\r\n        visible={modalVisible}\r\n        footer={[\r\n          <div style={{ marginLeft: \"200px\" }}>\r\n            <Button key=\"OK\" onClick={Redirection}>\r\n              &nbsp;&nbsp;OK&nbsp;&nbsp;\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      >\r\n        <p></p>\r\n        <p>{APIMessage}</p>\r\n        <p></p>\r\n      </Modal>\r\n      <BookCover src={BookCoverImg} />\r\n      <InfoPanel>\r\n        <div>\r\n          <Text>{Book?.name}</Text>\r\n          <Text>Author: {Book?.author}</Text>\r\n        </div>\r\n        <div>\r\n          <Text>Categories: {Book?.categories}</Text>\r\n          {Book.borrowed ? (\r\n            <Text>Status: Borrowed</Text>\r\n          ) : (\r\n            <Text>Status: In stock</Text>\r\n          )}\r\n        </div>\r\n      </InfoPanel>\r\n      <ButtonPanel>\r\n        <ButtonPanel>\r\n          {Borrow ? (\r\n            <Button onClick={handleBorrow}>Borrow</Button>\r\n          ) : (\r\n            <Button onClick={handleReturn}>Return Book</Button>\r\n          )}\r\n        </ButtonPanel>\r\n      </ButtonPanel>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BorrowedBookInfo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../Button\";\r\nimport Avatar from \"../../assets/img/avatar.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteUser } from \"../../config/user\";\r\nimport { getAllBooks } from \"../../config/book\";\r\nimport { Modal } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport BorrowedBookInfo from \"../BorrowedBookInfo\";\r\nimport CustomModal from \"../CustomModal\";\r\nconst moment = require(\"moment\");\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f1e6dc;\r\n  justify-content: space-around;\r\n`;\r\nconst Text = styled.div`\r\n  color: #5c4c4c;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst BorrowedBooks = styled.div`\r\n    display: flex;\r\n    width: 100%;\r\n    height: auto;\r\n    padding: 20px 0px;\r\n    background: #f1e6dc;\r\n    justify-content: space-around;\r\n    flex-direction: column;\r\n}\r\n`;\r\n\r\nconst BookInStock = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 20px 0px;\r\n  background: #f1e6dc;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst UserBook = ({ userid, Book }) => {\r\n  const url = \"/user/\" + userid;\r\n  const [APIMessage, setAPIMessage] = useState(\"\");\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [allBook, setAllBook] = useState();\r\n\r\n  useEffect(() => {\r\n    getBooks();\r\n  }, []);\r\n\r\n  const getBooks = async () => {\r\n    const books = await getAllBooks();\r\n    if (books) setAllBook(books);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const user = await DeleteUser(userid);\r\n    if (user === \"user deleted\") {\r\n      setAPIMessage(\"Delete user successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const Redirection = () => {\r\n    setModalVisible(false);\r\n    //After delete, back to all user page\r\n    if (\r\n      APIMessage === \"Delete user successfully!\" ||\r\n      APIMessage === \"Cannot find the user, try again later.\"\r\n    ) {\r\n      window.location.href = \"/users\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <BorrowedBooks>\r\n        <Text>Borrowed Books</Text>\r\n        {Book?.map((book, key) => {\r\n          return <BorrowedBookInfo Book={book} userId={userid}/>;\r\n        })}\r\n      </BorrowedBooks>\r\n      <BookInStock>\r\n        <Text>Available Books</Text>\r\n        {allBook?.map((book, key) => {\r\n          if (!book?.borrowed)\r\n            return <BorrowedBookInfo Book={book} Borrow=\"true\" userId={userid}/>;\r\n        })}\r\n      </BookInStock>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserBook;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../Button\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Modal } from \"antd\";\r\n\r\nconst Container = styled.div`\r\n  box-shadow: rgb(0 0 0 / 20%) 0px 0.0625rem 0.1875rem 0px;\r\n  border-radius: 0.1875rem;\r\n  width: 100%;\r\n  height: 100px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  padding: 15px 0px;\r\n  z-index: 0;\r\n  background: #d6b8b0;\r\n`;\r\nconst SubTitle = styled.div`\r\n  color: #ffffff;\r\n`;\r\n\r\nconst CustomModal = ({modalVisible,Redirection,APIMessage}) => {\r\n  return (\r\n    <Modal\r\n    visible={modalVisible}\r\n    footer={[\r\n      <div style={{ marginLeft: \"200px\" }}>\r\n        <Button key=\"OK\" onClick={Redirection}>\r\n          &nbsp;&nbsp;OK&nbsp;&nbsp;\r\n        </Button>\r\n      </div>,\r\n    ]}\r\n  >\r\n    <p></p>\r\n    <p>{APIMessage}</p>\r\n    <p></p>\r\n  </Modal>\r\n  );\r\n};\r\n\r\nexport default CustomModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"../../components/Button\";\r\nimport BookCoverImg from \"../../assets/img/avatar.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport validate from \"../../components/UserInfo/validate\";\r\nimport UserBook from \"../../components/UserBook\";\r\n\r\nimport {\r\n  UpdateUserById,\r\n  getUserById,\r\n  DeleteUser,\r\n  CreateUser,\r\n} from \"../../config/user\";\r\nimport { Modal } from \"antd\";\r\nimport InputErrorMsg from \"../../components/InputErrorMsg\";\r\nimport \"antd/dist/antd.css\";\r\nconst moment = require(\"moment\");\r\n\r\nconst Container = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst MainPanel = styled.div`\r\n  padding: 5px;\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 95%;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Form = styled.div`\r\n  padding: 5px;\r\n  height: 600px;\r\n  margin: auto;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background: #f0edeb;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  color: #5c4c4c;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst BookCover = styled.img`\r\n  height: 200px;\r\n  width: auto;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin-left: 20px;\r\n  opacity: 0.7;\r\n  @media (max-width: 768px) {\r\n    width: 50%;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\nconst InputPanel = styled.div`\r\n  margin: auto;\r\n  justify-content: center;\r\n  padding-top: 15px;\r\n  display: flex;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Fields = styled.div`\r\n  margin: auto;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  width: 60%;\r\n`;\r\n\r\nconst InputFields = styled.div`\r\n  margin: auto;\r\n  padding: 10px;\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 50%;\r\n    margin:auto;\r\n}\r\n`;\r\n\r\nconst TopButtonPanel = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f1e6dc;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst AddButtonPanel = styled.div`\r\n    display: flex;\r\n    width: 100%;\r\n    height: 20px;\r\n    justify-content: space-around;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n`;\r\n\r\nconst MainContent = styled.div`\r\n  display:flex;\r\n  flex-direction: column;\r\n}\r\n`;\r\n\r\nconst Books = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f1e6dc;\r\n  justify-content: space-around;\r\n`;\r\n\r\n\r\nconst UserDetailPage = () => {\r\n  const [name, setName] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [date_of_birth, setDate_of_birth] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [nameError, setNameError] = useState(false);\r\n  const [emailError, setEmailError] = useState(false);\r\n  const [APIMessage, setAPIMessage] = useState(\"\");\r\n  const [Id, setId] = useState(useParams().id);\r\n  const path = useLocation().pathname;\r\n  const [add, setAdd] = useState(false);\r\n  const [borrowedBooks,setBorrowedBooks]=useState();\r\n\r\n  useEffect(() => {\r\n    if (path.indexOf(\"new\") > 0) {\r\n      //Add new\r\n      setAdd(true);\r\n    }\r\n    //Edit\r\n    else getUserInfo();\r\n  }, []);\r\n\r\n  const getUserInfo = async () => {\r\n    const user = await getUserById(Id);\r\n    if (typeof user !== \"string\") {\r\n      const Data = user;\r\n      setPhone(Data?.phone);\r\n      setName(Data?.name);\r\n      const Moment = moment(Data?.date_of_birth);\r\n      setDate_of_birth(Moment.format(\"yyyy-MM-DD\"));\r\n      setEmail(Data?.email);\r\n      setBorrowedBooks(Data?.books);\r\n    } else {\r\n      setAPIMessage(\"Cannot find the user, try again later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const handleOnBlur = (event) => {\r\n    const { value, name } = event.target;\r\n  };\r\n\r\n  const handleDataChange = (event) => {\r\n    const { value, name } = event.target;\r\n    switch (name) {\r\n      case \"name\": {\r\n        setName(value);\r\n        return \"name\";\r\n      }\r\n      case \"email\": {\r\n        setEmail(value);\r\n        return \"email\";\r\n      }\r\n      case \"date_of_birth\": {\r\n        setDate_of_birth(value);\r\n        return \"date_of_birth\";\r\n      }\r\n      case \"phone\": {\r\n        setPhone(value);\r\n        return \"phone\";\r\n      }\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n\r\n  const checkValues = () => {\r\n    if (!name || name === \"\") {\r\n      setNameError(true);\r\n      return;\r\n    } else {\r\n      setNameError(false);\r\n    }\r\n    const checkEmail = validate(\"email\", email);\r\n    //test console\r\n    console.log(checkEmail);\r\n    if (checkEmail !== \"\") {\r\n      setEmailError(true);\r\n      return;\r\n    } else {\r\n      setEmailError(false);\r\n    }\r\n    if (!nameError && !emailError)\r\n      if (add) {\r\n        AddNewUser();\r\n      } else EditUser();\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    //test console\r\n    console.log(\"running\");\r\n    console.log(name);\r\n    console.log(email);\r\n    console.log(phone);\r\n    console.log(date_of_birth);\r\n    checkValues();\r\n  };\r\n\r\n  const handleAddNew = () => {\r\n    //test console\r\n    console.log(\"running\");\r\n    console.log(name);\r\n    console.log(email);\r\n    console.log(phone);\r\n    console.log(date_of_birth);\r\n    checkValues();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const user = await DeleteUser(Id);\r\n    if (user === \"user deleted\") {\r\n      setAPIMessage(\"Delete user successfully!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const EditUser = async () => {\r\n    const user = await UpdateUserById(Id, phone, name, date_of_birth);\r\n    if (user.status == \"200\") {\r\n      setAPIMessage(\"Edit user successfully\");\r\n      setModalVisible(true);\r\n    } else if (user.status == \"403\") {\r\n      setAPIMessage(\"User already exists!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const AddNewUser = async () => {\r\n    const user = await CreateUser(email, name, phone, date_of_birth);\r\n    if (user.status == \"201\") {\r\n      setId(user?.data?._id);\r\n      setAPIMessage(\"Add user successfully!\");\r\n      setModalVisible(true);\r\n    } else if (user.status == \"403\") {\r\n      setAPIMessage(\"User already exists!\");\r\n      setModalVisible(true);\r\n    } else {\r\n      setAPIMessage(\"Something Wrong, pleas try later.\");\r\n      setModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const Redirection = () => {\r\n    setModalVisible(false);\r\n    //After delete, back to all user page\r\n    if (\r\n      APIMessage === \"Delete user successfully!\" ||\r\n      APIMessage === \"Cannot find the user, try again later.\"\r\n    ) {\r\n      window.location.href = \"/users\";\r\n    } else if (APIMessage === \"Add user successfully!\") {\r\n      window.location.href = \"/user/\" + Id;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Modal\r\n        visible={modalVisible}\r\n        footer={[\r\n          <div style={{ marginLeft: \"200px\" }}>\r\n            <Button key=\"OK\" onClick={Redirection}>\r\n              &nbsp;&nbsp;OK&nbsp;&nbsp;\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      >\r\n        <p></p>\r\n        <p>{APIMessage}</p>\r\n        <p></p>\r\n      </Modal>\r\n      <MainPanel>\r\n        <Header />\r\n        <TopButtonPanel>\r\n          <Link to=\"/users\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Back to all Users Page</Button>\r\n          </Link>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Back to Homepage</Button>\r\n          </Link>\r\n        </TopButtonPanel>\r\n        <Form>\r\n          <br />\r\n          <br />\r\n          {add ? (\r\n            <AddButtonPanel>\r\n              <br />\r\n              <Button onClick={handleAddNew}>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;Submit&nbsp;&nbsp;&nbsp;&nbsp;\r\n              </Button>\r\n              <Text>Add new user</Text>\r\n              <br />\r\n            </AddButtonPanel>\r\n          ) : (\r\n            <Text>User detail information</Text>\r\n          )}\r\n          <MainContent>\r\n            <Fields>\r\n              <BookCover src={BookCoverImg} />\r\n              <InputFields>\r\n                <br />\r\n                <InputPanel>\r\n                  <div>Name:</div>\r\n                  <Input\r\n                    name=\"name\"\r\n                    onChange={handleDataChange}\r\n                    onBlur={handleOnBlur}\r\n                    value={name}\r\n                  />\r\n                </InputPanel>\r\n                {nameError ? (\r\n                  <InputErrorMsg>Name can't be empty!</InputErrorMsg>\r\n                ) : null}\r\n                <br />\r\n                <InputPanel>\r\n                  <div>Email:</div>\r\n                  <Input\r\n                    name=\"email\"\r\n                    onChange={handleDataChange}\r\n                    onBlur={handleOnBlur}\r\n                    value={email}\r\n                  />\r\n                </InputPanel>\r\n                {emailError ? (\r\n                  <InputErrorMsg>Please input a valid email!</InputErrorMsg>\r\n                ) : (\r\n                  <br />\r\n                )}\r\n                <InputPanel>\r\n                  <div>Phone:</div>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"phone\"\r\n                    onChange={handleDataChange}\r\n                    onBlur={handleOnBlur}\r\n                    value={phone}\r\n                  />\r\n                </InputPanel>\r\n                <InputPanel>\r\n                  <div>Date of Birth:</div>\r\n                  <Input\r\n                    type=\"date\"\r\n                    name=\"date_of_birth\"\r\n                    onChange={handleDataChange}\r\n                    onBlur={handleOnBlur}\r\n                    value={date_of_birth}\r\n                  />\r\n                </InputPanel>\r\n              </InputFields>\r\n            </Fields>\r\n            {!add ? (\r\n              <ButtonPanel>\r\n                <Button onClick={handleSubmit}>Submit</Button>\r\n\r\n                {!add ? <Button onClick={handleDelete}>Delete</Button> : null}\r\n              </ButtonPanel>\r\n            ) : null}\r\n          </MainContent>\r\n        </Form>\r\n        <UserBook userid={Id} Book={borrowedBooks}/>\r\n        <Footer />\r\n      </MainPanel>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserDetailPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { Button } from \"../../components/Button\";\r\nimport BookInfo from \"../../components/BookInfo\";\r\nimport UserInfo from \"../../components/UserInfo\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getAllUsers } from \"../../config/user\";\r\n\r\nconst Container = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst MainPanel = styled.div`\r\n  padding: 5px;\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 95%;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f0edeb;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst RecentUsers = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  margin-bottom: 50px;\r\n  text-align: center;\r\n  width: 80%;\r\n  padding: 20px;\r\n  height: auto;\r\n  background-color: #f0edebae;\r\n  border-radius: 10px;\r\n  @media (max-width: 768px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst RecentPanel = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  color: #8b6c64;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst TitlePanel = styled.div`\r\n    margin-top: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`;\r\n\r\nconst UsersPage = () => {\r\n  const [allUser, setAllUser] = useState();\r\n\r\n  useEffect(() => {\r\n    getBooks();\r\n  }, []);\r\n\r\n  const getBooks = async () => {\r\n    const users = await getAllUsers();\r\n    if (users) setAllUser(users);\r\n  };\r\n  return (\r\n    <Container>\r\n      <MainPanel>\r\n        <Header />\r\n        <ButtonPanel>\r\n          <Link to=\"/user/new\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Add New User</Button>\r\n          </Link>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Back to Homepage</Button>\r\n          </Link>\r\n          <Link to=\"/books\" style={{ textDecoration: \"none\" }}>\r\n            <Button>View All Books</Button>\r\n          </Link>\r\n        </ButtonPanel>\r\n        <RecentPanel>\r\n          <RecentUsers>\r\n            <br />\r\n            <TitlePanel>\r\n            <Text>All Users</Text>\r\n            <Link to=\"/user/new\" style={{ textDecoration: \"none\" }}>\r\n              <Button>Add New User</Button>\r\n            </Link>\r\n            </TitlePanel>\r\n            {allUser?.map((user, key) => {\r\n              return <UserInfo User={user} />;\r\n            })}\r\n          </RecentUsers>\r\n        </RecentPanel>\r\n        <Footer />\r\n      </MainPanel>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UsersPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { Button } from \"../../components/Button\";\r\nimport BookInfo from \"../../components/BookInfo\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getAllBooks } from \"../../config/book\";\r\n\r\nconst Container = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst MainPanel = styled.div`\r\n  padding: 5px;\r\n  height: auto;\r\n  margin: auto;\r\n  text-align: center;\r\n  width: 95%;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 60px 0px;\r\n  background: #f0edeb;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst RecentBooks = styled.div`\r\n  height: auto;\r\n  margin: auto;\r\n  margin-bottom: 50px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  width: 80%;\r\n  height: auto;\r\n  background-color: #f0edebae;\r\n  border-radius: 10px;\r\n  @media (max-width: 768px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst RecentPanel = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n`;\r\n\r\nconst TitlePanel = styled.div`\r\n    margin-top: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  color: #8b6c64;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst BooksPage = () => {\r\n  const [allBook, setAllBook] = useState();\r\n\r\n  useEffect(() => {\r\n    getBooks();\r\n  }, []);\r\n\r\n  const getBooks = async () => {\r\n    const books = await getAllBooks();\r\n    if (books) setAllBook(books);\r\n  };\r\n  return (\r\n    <Container>\r\n      <MainPanel>\r\n        <Header />\r\n        <ButtonPanel>\r\n          <Link to=\"/book/new\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Add New Book</Button>\r\n          </Link>\r\n          <Link to=\"/users\" style={{ textDecoration: \"none\" }}>\r\n            <Button>View All Users</Button>\r\n          </Link>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <Button>Back to Homepage</Button>\r\n          </Link>\r\n        </ButtonPanel>\r\n        <RecentPanel>\r\n          <RecentBooks>\r\n            <br />\r\n            <TitlePanel>\r\n              <Text>All Books</Text>\r\n              <br/>\r\n              <Link to=\"/book/new\" style={{ textDecoration: \"none\" }}>\r\n                <Button>Add New Book</Button>\r\n              </Link>\r\n              <br/>\r\n            </TitlePanel>\r\n            {allBook?.map((book, key) => {\r\n              return <BookInfo Book={book} />;\r\n            })}\r\n          </RecentBooks>\r\n        </RecentPanel>\r\n        <Footer />\r\n      </MainPanel>\r\n    </Container>\r\n  );\r\n};\r\nexport default BooksPage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  max-height: 900px;\r\n  background-position: center;\r\n  background-size: 65%;\r\n  padding-top: 20vh;\r\n  padding-bottom: 0;\r\n\r\n  h1 {\r\n    color: #434343;\r\n    margin: 0px;\r\n    padding: 0px 0px 25px 0px;\r\n    font-size: 50px;\r\n    font-weight: 600;\r\n    line-height: 1.2;\r\n  }\r\n  p {\r\n    color: #434343;\r\n    font-weight: 400;\r\n    text-shadow: none;\r\n    font-size: 28px;\r\n  }\r\n`;\r\n\r\nconst NoPage = () => (\r\n  <Container>\r\n    <h1>Oops..! 404 Page Not Found</h1>\r\n    <p>Looks like you came to wrong page on our server</p>\r\n  </Container>\r\n);\r\n\r\nexport default NoPage;\r\n","import React from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport BookDetailPage from \"./pages/BookDetailPage\";\r\nimport UserDetailPage from \"./pages/UserDetailPage/UserDetailPage\";\r\nimport UsersPage from \"./pages/UsersPage/UsersPage\";\r\nimport BooksPage from \"./pages/BooksPage\";\r\nimport NoPage from \"./pages/NoPage\";\r\n\r\nexport const App = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/users\" element={<UsersPage />} />\r\n        <Route path=\"/books\" element={<BooksPage />} />\r\n        <Route path=\"/book/:id\" element={<BookDetailPage />} />\r\n        <Route path=\"/book/new\" element={<BookDetailPage />} />\r\n        <Route path=\"/user/new\" element={<UserDetailPage />} />\r\n        <Route path=\"/user/:id\" element={<UserDetailPage />} />\r\n        <Route path=\"*\" element={<NoPage />} />\r\n      </Routes>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const INITIAL_STATE = {\r\n\temail: '',\r\n\tid: ''\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action={}) => {\r\n\tswitch(action.type) {\r\n\t\tcase \"SET_DATA\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.content\r\n\t\t\t};\r\n\t\t\tcase \"LOGOUT\":\r\n\t\t\t\treturn {\r\n\t\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};","import { createStore, applyMiddleware,compose } from \"redux\";\r\nimport reducer from \"./reducer\";\r\nimport {persistStore, persistReducer} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport ReduxThunk from 'redux-thunk';\r\n\r\nconst storageConfig = {\r\n    key: 'root', \r\n    storage:storage, \r\n    whitelist: ['id','email'] \r\n}\r\n\r\nconst middlewares = [ReduxThunk];\r\n\r\nconst myPersistReducer = persistReducer(storageConfig, reducer)\r\nconst store = createStore(myPersistReducer,compose(applyMiddleware(...middlewares)),)\r\nexport const persistor = persistStore(store)\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport {PersistGate} from 'redux-persist/lib/integration/react';\r\nimport configStore from './redux/store';\r\nimport {persistor} from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Provider store={configStore}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n        </PersistGate>\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}